/*! contextual-comments 2014-02-17 17:15:34 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c;b.exports=c=function(){function a(){return this}return a}()},{}],2:[function(a,b){var c,d=[].slice;gc.comment=a("./comment.coffee"),b.exports=c=function(){function a(){var a;return a=1<=arguments.length?d.call(arguments,0):[],this._initVars(a),this}return a.prototype._availableOptions=["_parent","_target","_index"],a.prototype._initVars=function(){var a;return a=1<=arguments.length?d.call(arguments,0):[],console.log(a),this},a.prototype._render=function(){return this},a}()},{"./comment.coffee":1}],3:[function(a){var b,c;try{if("undefined"==typeof $||null===$)throw"You must include jQuery";if("undefined"==typeof _||null===_)throw"You must include undescore"}catch(d){c=d,console.warn("Error : "+c)}window.gc={},gc.commentsList=a("./comments-list.coffee"),gc.contextualcomments=b=function(){function a(a){return this._initVars(a)._initTemplates(),this}return a.prototype.target="body",a.prototype.selector="p, img, li",a.prototype.containerId="comments-container",a.prototype.comments=[],a.prototype.gapBetweenButtonAndList=20,a.prototype.templatePaths="./templates/",a.prototype.containerTemplateFile="container.html",a.prototype.commentsListTemplateFile="commentsList.html",a.prototype.commentTemplateFile="comment.html",a.prototype._commentsLists=[],a.prototype._availableOptions=["target","selector","containerId","comments","gapBetweenButtonAndList","templatePaths","containerTemplateFile","commentsListTemplateFile","commentTemplateFile"],a.prototype._initVars=function(a){return _.extend(this,_.pick(a,this._availableOptions)),this},a.prototype._initTemplates=function(){var a;return a=this,$.when($.get(this.templatePaths+this.containerTemplateFile,function(b){return a._containerTemplate=b}),$.get(this.templatePaths+this.commentsListTemplateFile,function(b){return a._commentsListTemplate=b}),$.get(this.templatePaths+this.commentTemplateFile,function(b){return a._commentTemplate=b})).then(function(){return a._render()}),this},a.prototype._getCommentsByParentId=function(a){var b;return b=[],this.comments.forEach(function(c){return c.parentId===a?b.push(c):void 0}),b},a.prototype._buildLists=function(){var a;return a=this,$(this.target).find(this.selector).each(function(){var b;return b=new gc.commentsList(a,this),a._commentsLists.push(b)}),this},a.prototype._render=function(){return this._container=_.template(this._containerTemplate,{container:this.containerId}),$(this._container).appendTo("body"),this._buildLists(),this},a}()},{"./comments-list.coffee":2}]},{},[3]);